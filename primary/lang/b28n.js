(function(j,r){var h={},w={};h.extend=function(F){var E;for(E in F){if(F.hasOwnProperty(E)){h[E]=F[E]}}};w.supportLang=["en"];w.defaultLang="en";w.fileType="xml";w.idDefaultLang=true;w.trimText=true;w.insertHTML=true;w.initSelect=true;if(w.idDefaultLang&&(","+w.supportLang.join(",")+",").indexOf(w.defaultLang)===-1){w.supportLang.push(w.defaultLang)}var e=j,D=r,f="3.0.0",k=f.trim,s=r.scripts,q=s[s.length-1].src.substring(0,s[s.length-1].src.lastIndexOf("index.html")+1),x=/^[\],:{}\s]*$/,u=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,t=false,l,m,o,C,c,g,y,i,a,B,p;y=k&&!k.call("\uFEFF\xA0")?function(E){return E==null?"":k.call(E)}:function(H){if(H==null){return""}else{H+=""}var G=H.replace(/^\s+/,""),F=G.length-1,E=/\s/;while(E.test(G.charAt(F))){F--}return G.slice(0,F+1)};i=function(E){if(w.trimText){return y(E)}else{return E}};a=function(E){if(j.JSON&&j.JSON.parse){return j.JSON.parse(E)}if(E===null){return E}if(typeof E==="string"){E=y(E);if(E){if(x.test(E.replace(A,"@").replace(z,"]").replace(u,""))){return(new Function("return "+E))()}}}};B=(function(){try{return function(){return new XMLHttpRequest()}}catch(G){try{return function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(F){try{return function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(E){return}}}})();g=(function(){if(w.insertHTML){return function(F,G){if(G){F.innerHTML=G;return F}}}var E=D.createElement("p");E.innerHTML=f;return E.textContent?function(F,G){if(G){F.textContent=G;return F}return F.textContent}:function(F,G){if(G){F.innerText=G;return F}return F.innerText}}());function v(E){if(typeof HTMLElement==="object"&&E instanceof HTMLElement){return true}if(typeof E==="object"&&(E.nodeType===1||E.nodeType===9)&&typeof E.nodeName==="string"){return true}return false}function n(){D.title=p.gettext(i(D.title))}function d(G){if(!G){return}var K=G.firstChild,I=G.nextSibling,F=G.nodeType,E="submit,reset,button",J,H;if(F===1){J=G.getAttribute("alt");if(J&&/\S/.test(J)){J=i(J);G.setAttribute("alt",p.gettext(J))}J=G.getAttribute("placeholder");if(J&&/\S/.test(J)){J=i(J);G.setAttribute("placeholder",p.gettext(J))}J=G.getAttribute("title");if(J&&/\S/.test(J)){J=i(J);G.setAttribute("title",p.gettext(J))}H=G.nodeName.toLowerCase()=="input"&&(E.indexOf(G.getAttribute("type"))!==-1);if(H){J=G.getAttribute("data-lang")||G.value}else{J=G.getAttribute("data-lang")}if(J&&/\S/.test(J)){J=i(J);if(J){if(H){G.setAttribute("value",p.gettext(J))}else{g(G,p.gettext(J))}}}}else{if(F===3&&/\S/.test(G.nodeValue)){J=i(G.nodeValue);G.nodeValue=p.gettext(J)}}if(I){d(I)}if(K&&!G.getAttribute("data-lang")){d(K)}}l=(function(){var F=[],J=false,E,G;function I(K){K=K||e.event;if(J){return}if(K.type==="readystatechange"&&D.readyState!=="complete"){return}for(G=0,E=F.length;G<E;G++){F[G].call(D)}J=true;F=null}if(D.addEventListener){D.addEventListener("DOMContentLoaded",I,false);D.addEventListener("onreadystatechange",I,false);e.addEventListener("load",I,false)}else{if(D.attachEvent){D.attachEvent("onreadystatechange",I);e.attachEvent("onload",I)}}return function H(K){if(J){K.call(D)}else{F.push(K)}}}());m=(function(){var E=D.createElement("script"),F=E.readyState;return F?function(H,I){var G=D.createElement("script");G.onreadystatechange=function(){if(G.readyState==="loaded"||G.readyState==="complete"){G.onreadystatechange=null;if(typeof I==="function"){I();I=null}}};G.src=H;D.getElementsByTagName("head")[0].appendChild(G)}:function(H,I){var G=D.createElement("script");G.onload=function(){if(typeof I==="function"){I();I=null}};G.src=H;D.getElementsByTagName("head")[0].appendChild(G)}})();C=function(E,G){var F=B();F.open("login.html",E,false);F.setRequestHeader("If-Modified-Since","1");F.send(null);if(F.status>=200&&F.status<300||F.status===304){h.extend(a(F.responseText));if(typeof G==="function"){G();G=null}}};c=function(E,H){var G,F,J,I;G=B();G.open("login.html",E,false);G.setRequestHeader("If-Modified-Since","1");G.send(null);if(G.status>=200&&G.status<300||G.status===304){J=G.responseXML.documentElement.getElementsByTagName("message");I=J.length;for(F=0;F<I;F++){h[J[F].getAttribute("msgid")]=J[F].getAttribute("msgstr")}if(typeof H==="function"){H();H=null}}};function b(){this.curDomain=0;this.domainArr=[];this.options={"defaultLang":w.defaultLang,"support":w.supportLang,"fileType":w.fileType};this.isSupport=function(H){var G=this.options.support,E=G.length,F;for(F=0;F<E;F++){if(H===G[F]){return G[F]}}};this.setLang=function(E){if(E!==undefined){if(!this.isSupport(E)){E=this.options.defaultLang}D.cookie="bLanguage="+E+";"}return E};this.getLang=function(){var G={"zh":"cn","zh-chs":"cn","zh-cn":"cn","zh-cht":"cn","zh-hk":"zh","zh-mo":"zh","zh-tw":"zh","zh-sg":"zh"},I=this.options.defaultLang,H,F,J,E;if((D.cookie.indexOf("bLanguage="))===-1){H=(e.navigator.language||e.navigator.userLanguage||e.navigator.browserLanguage||e.navigator.systemLanguage||I).toLowerCase();F=G[H]||H.split("-")[0].toString()
}else{if(D.cookie.indexOf("bLanguage=")===0){J=10}else{if(D.cookie.indexOf("; bLanguage=")!==-1){J=D.cookie.indexOf("; bLanguage=")+12}}if(J!==undefined){E=(D.cookie.indexOf(";",J)!==-1)?D.cookie.indexOf(";",J):D.cookie.length;F=D.cookie.substring(J,E)}}return this.isSupport(F)||this.options.defaultLang};this.getURL=function(E){return q+this.lang+"/"+E+"."+this.options.fileType};this.setTextDomain=function(I,J,H){var F,E,G=D.documentElement;this.lang=J||this.getLang();this.setLang(this.lang);this.curDomain=0;if(typeof H==="function"){this.success=H}G.style.display="none";G.className=G.className+" lang-"+this.lang;if(Object.prototype.toString.call(I)==="[object Array]"){E=I.length;this.domainArr=I;for(F=0;F<E;F=F+1){this.po=this.getURL(I[F]);this.loadDomain(this.po,F)}}else{if(typeof I==="string"){this.domainArr.push(I);this.po=this.getURL(I);this.loadDomain(this.po,0)}}};this.loadDomain=function(E){if(w.idDefaultLang&&this.lang===w.defaultLang){t=true;l(p.initSelectElem);D.documentElement.style.display="";if(typeof p.success==="function"){p.success()}}else{if(this.options.fileType==="json"){C(E,this.loadedDict)}else{if(this.options.fileType==="xml"){c(E,this.loadedDict)}}}};this.loadedDict=function(){var E=p.domainArr.length;if(p.curDomain+1===E){t=true;l(p.translatePage)}else{p.curDomain+=1}};this.isLoaded=function(){return t};this.gettext=function(E){return h[E]!==undefined?h[E]:E};this.getFormatText=function(G,H){var F=this.gettext(G),E,I=0;if(!H){return F}if(Object.prototype.toString.call(H) == '[object Array]'&&H.length!==0){while((E=F.indexOf("%s"))!==-1){F=F.slice(0,E)+H[I]+F.slice(E+2);I=((I+1)===H.length)?I:(I+1)}}else{if(typeof H==="string"){E=F.indexOf("%s");F=F.slice(0,E)+H+F.slice(E+2)}}return F};this.initSelectElem=function(){var F=D.getElementById("select-lang"),E=w.supportLang.length,H,I,G;if(F&&F.nodeName.toLowerCase()=="select"){for(G=0;G<E;G++){I=w.supportLang[G];H=new Option(p.langArr[I],I);F.add(H,undefined)}F.value=p.lang;if(D.addEventListener){F.addEventListener("change",function(){p.setLang(D.getElementById("select-lang").value);setTimeout(function(){j.location.reload()},24)},false)}else{if(D.attachEvent){F.attachEvent("onchange",function(){p.setLang(D.getElementById("select-lang").value);setTimeout(function(){j.location.reload()},24)})}}}};this.translate=function(E){var F;if(v(E)){F=E}else{if(E&&typeof E==="string"){F=D.getElementById(E)}}F=F||D.documentElement;D.documentElement.style.display="none";d(F);D.documentElement.style.display="";if(typeof p.success==="function"){p.success()}};this.translatePage=function(){var E=D.body||D.documentElement;n();w.initSelect&&p.initSelectElem();p.translate(E)}}p=new b();p.langArr={"cn":"简体中文","zh":"繁體中文","de":"Deutsch","en":"English","es":"Español","fr":"Français","hu":"Magyar","it":"Italiano","pl":"Polski","ro":"Română","ar":"العربية","tr":"Türkçe","ru":"Русский","pt":"Português"};p.getMsg=function(){return h};e.Butterlate=p;e.B=e.B||e.Butterlate;e._=function(E,F){return p.getFormatText(E,F)};e.Butterlate.loadScript=m}(window,document));